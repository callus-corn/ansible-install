---

- name: install packages
  hosts: all
  become: yes
  tasks:

    - name: dnf update
      dnf:
        name: '*'
        state: latest

    - name: dnf install
      dnf:
        name: "{{ item.packages }}"
        state: latest
      loop: "{{ install_group_packages_list }}"
      when: "{{ item.group in group_names }}"
